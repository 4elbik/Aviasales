(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{151:function(n,e,t){},152:function(n,e,t){"use strict";t.r(e);t(88),t(116),t(118),t(119),t(121);var a=t(0),r=t.n(a),i=t(23),o=t.n(i),c=t(11),s=t(80),l=t(7),u=t(1),d=t(24),p=t(25),f=t(26),m=t(27),g=t(2),h=t(82),b=t.n(h);function v(){var n=Object(u.a)(['\n    margin: 0 auto;\n    margin-bottom: 31px;\n    width: 82px;\n    height: 89px;\n    background-image: url("','");\n']);return v=function(){return n},n}var x=g.a.div(v(),b.a),w=function(){return r.a.createElement(x,{className:"header"})},E=t(19),y=t.n(E),k=t(44),O=t(28),j=t.n(O),T=function(n){return{type:"TICKETS_FETCH_SUCCESS",payload:{tickets:n}}},_=function(){var n=Object(k.a)(y.a.mark((function n(e){var t,a,r,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=0,a=!0,n.next=4,j.a.get("https://front-test.beta.aviasales.ru/search");case 4:r=n.sent;case 5:if(5===t||!a){n.next=26;break}return n.prev=6,n.next=9,j.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(r.data.searchId));case 9:i=n.sent,e(T(i.data.tickets));case 11:if(!1!==i.data.stop){n.next=18;break}return n.next=14,j.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(r.data.searchId));case 14:i=n.sent,e(T(i.data.tickets)),n.next=11;break;case 18:a=!1,n.next=24;break;case 21:n.prev=21,n.t0=n.catch(6),t+=1;case 24:n.next=5;break;case 26:if(5!==t){n.next=28;break}return n.abrupt("return",!1);case 28:return n.abrupt("return",!0);case 29:case"end":return n.stop()}}),n,null,[[6,21]])})));return function(e){return n.apply(this,arguments)}}(),N=t(86),C=t.n(N);function S(){var n=Object(u.a)(["\n  position: absolute;\n  left: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 10px;\n  width: 20px;\n  height: 20px;\n  border: 1px solid #9abbce;\n  box-sizing: border-box;\n  border-radius: 2px;\n"]);return S=function(){return n},n}function F(){var n=Object(u.a)(['\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    border: 0;\n    padding: 0;\n    white-space: nowrap;\n    clip-path: inset(100%);\n    clip: rect(0 0 0 0);\n    overflow: hidden;\n\n    &:checked + span {\n      border-color: #2196F3;\n    }\n    \n    &:checked + span::before {\n      content: "";\n      display: block;\n      width: 12px;\n      height: 8px;\n      background-image: url("','");\n    }\n']);return F=function(){return n},n}function I(){var n=Object(u.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  line-height: 20px;\n\n  & label {\n    padding: 10px 20px;\n    padding-left: 50px;\n    width: 100%;\n  }\n\n  & label:hover {\n    cursor: pointer;\n    background-color: #f1fcff;\n  }\n"]);return I=function(){return n},n}function A(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]);return A=function(){return n},n}function D(){var n=Object(u.a)(["\n  margin: 20px;\n  margin-bottom: 10px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return D=function(){return n},n}function H(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 10px;\n  background-color: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return H=function(){return n},n}var z={changeActiveFilters:function(n){return{type:"ACTIVE_FILTERS_UPDATE",payload:{filterName:n}}}},M={"all-transfer":"\u0412\u0441\u0435","without-transfer":"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a","one-transfer":"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430","two-transfer":"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438","three-transfer":"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},U=Object.values(M),R=function(n){Object(m.a)(t,n);var e=Object(f.a)(t);function t(){var n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).onChangeFilters=function(e){return function(){(0,n.props.changeActiveFilters)(e)}},n}return Object(p.a)(t,[{key:"render",value:function(){var n=this,e=this.props.activeFilters;return r.a.createElement(V,null,r.a.createElement(L,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement("form",null,r.a.createElement(B,null,Object.keys(M).map((function(t){return r.a.createElement(K,{key:t},r.a.createElement(X,{id:t,type:"checkbox",onChange:n.onChangeFilters(M[t]),checked:e.includes(M[t])}),r.a.createElement(G,null),r.a.createElement("label",{htmlFor:t},M[t]))})))))}}]),t}(r.a.Component),V=g.a.div(H()),L=g.a.h2(D()),B=g.a.ul(A()),K=g.a.li(I()),X=g.a.input(F(),C.a),G=g.a.span(S()),J=Object(l.b)((function(n){return{activeFilters:n.activeFilters}}),z)(R);function P(){var n=Object(u.a)(["\n  padding: 14px 15px;\n  width: 50%;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-content: center;\n  text-transform: uppercase;\n  color: inherit;\n  background-color: #ffffff;\n  border: 1px solid #dfe5ec;\n  box-sizing: border-box;\n\n  &.active {\n    color: #ffffff;\n    background-color: #2196f3;\n    border-color: #2196f3;\n  }\n\n  &:first-child {\n    border-top-left-radius: 5px;\n    border-bottom-left-radius: 5px;\n  }\n\n  &:last-child {\n    border-top-right-radius: 5px;\n    border-bottom-right-radius: 5px;\n  }\n\n  &:hover:not(.active) {\n    background-color: #f1fcff;\n    cursor: pointer;\n  }\n"]);return P=function(){return n},n}function W(){var n=Object(u.a)(["\n  margin-bottom: 20px;\n"]);return W=function(){return n},n}var $={changeActiveTab:function(n){return{type:"CHANGE_ACTIVE_TAB",payload:{activeTab:n}}}},Q=g.a.div(W()),q=g.a.button(P()),Y=Object(l.b)((function(n){return{activeTab:n.activeTab}}),$)((function(n){var e=n.tabs,t=n.activeTab,a=n.changeActiveTab,i=Object.keys(e);return 0===i.length?null:r.a.createElement(Q,null,i.map((function(n){return r.a.createElement(q,{key:n,className:t===n?"active":"",onClick:function(){return a(n)},disabled:t===n},e[n])})))}));function Z(){var n=Object(u.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\nmargin: 0;\npadding: 0;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n\n& .\ud83e\udd1a {\n  --skin-color: #e4c560;\n  --tap-speed: 0.6s;\n  --tap-stagger: 0.1s;\n\n  position: relative;\n  width: 8vw;\n  height: 6vw;\n  margin-left: 8vw;\n\n  &:before {\n    content: '';\n    display: block;\n    width: 180%;\n    height: 75%;\n    position: absolute;\n    top: 70%;\n    right: 20%;\n    background-color: black;\n    border-radius: 4vw 1vw;\n    filter: blur(10px);\n    opacity: 0.3;\n  }\n}\n\n& .\ud83c\udf34 {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: var(--skin-color);\n  border-radius: 1vw 4vw;\n}\n\n& .\ud83d\udc4d {\n  position: absolute;\n  width: 120%;\n  height: 3.2vw;\n  background-color: var(--skin-color);\n  bottom: -18%;\n  right: 1%;\n  transform-origin: calc(100% - 2vw) 2vw;\n  transform: rotate(-20deg);\n  border-radius: 3vw 2vw 2vw 1vw;\n  border-bottom: 2px solid rgba(black, 0.1);\n  border-left: 2px solid rgba(black, 0.1);\n\n  &:after {\n    width: 20%;\n    height: 60%;\n    content: '';\n    background-color: rgba(white, 0.3);\n    position: absolute;\n    bottom: -8%;\n    left: 0.5vw;\n    border-radius: 60% 10% 10% 30%;\n    border-right: 2px solid rgba(black, 0.05);\n  }\n}\n\n& .\ud83d\udc49 {\n  position: absolute;\n  width: 80%;\n  height: 3.5vw;\n  background-color: var(--skin-color);\n  bottom: 32%;\n  right: 64%;\n  transform-origin: 100% 2vw;\n\n  animation-duration: calc(var(--tap-speed) * 2);\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  transform: rotate(10deg);\n\n  &:before {\n    content: '';\n    position: absolute;\n    width: 140%;\n    height: 3vw;\n    background-color: var(--skin-color);\n    bottom: 8%;\n    right: 65%;\n    transform-origin: calc(100% - 2vw) 2vw;\n    transform: rotate(-60deg);\n    border-radius: 2vw;\n  }\n\n  &:nth-child(1) {\n    animation-delay: 0;\n    filter: brightness(70%);\n    animation-name: tap-upper-1;\n  }\n\n  &:nth-child(2) {\n    animation-delay: var(--tap-stagger);\n    filter: brightness(80%);\n    animation-name: tap-upper-2;\n  }\n\n  &:nth-child(3) {\n    animation-delay: calc(var(--tap-stagger) * 2);\n    filter: brightness(90%);\n    animation-name: tap-upper-3;\n  }\n\n  &:nth-child(4) {\n    animation-delay: calc(var(--tap-stagger) * 3);\n    filter: brightness(100%);\n    animation-name: tap-upper-4;\n  }\n}\n\n@keyframes tap-upper-1 {\n  0%,\n  50%,\n  100% {\n    transform: rotate(10deg) scale(0.4);\n  }\n  40% {\n    transform: rotate(50deg) scale(0.4);\n  }\n}\n\n@keyframes tap-upper-2 {\n  0%,\n  50%,\n  100% {\n    transform: rotate(10deg) scale(0.6);\n  }\n  40% {\n    transform: rotate(50deg) scale(0.6);\n  }\n}\n\n@keyframes tap-upper-3 {\n  0%,\n  50%,\n  100% {\n    transform: rotate(10deg) scale(0.8);\n  }\n  40% {\n    transform: rotate(50deg) scale(0.8);\n  }\n}\n\n@keyframes tap-upper-4 {\n  0%,\n  50%,\n  100% {\n    transform: rotate(10deg) scale(1);\n  }\n  40% {\n    transform: rotate(50deg) scale(1);\n  }\n}\n"]);return Z=function(){return n},n}var nn=g.a.div(Z()),en=function(){return r.a.createElement(nn,null,r.a.createElement("div",{className:"\ud83e\udd1a"},r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83c\udf34"}),r.a.createElement("div",{className:"\ud83d\udc4d"})))},tn=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Math.floor(n/60/24),a=Math.floor(n/60)-24*t,r=n-60*a-24*t*60;return e?{days:t,hours:a,minutes:r}:0===t?0===a?"00\u0447 ".concat(r<10?"0".concat(r):r,"\u043c"):"".concat(a<10?"0".concat(a):a,"\u0447 ").concat(r<10?"0".concat(r):r,"\u043c"):"".concat(t,"\u0434 ").concat(a<10?"0".concat(a):a,"\u0447 ").concat(r<10?"0".concat(r):r,"\u043c")},an=function(n){return n<10?"0".concat(n):n},rn=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Date(n),r=tn(e,!0),i=r.days,o=r.hours,c=r.minutes,s=a.getDate(),l=a.getHours(),u=a.getMinutes(),d=new Date(new Date(new Date(a.setDate(s+i)).setHours(l+o)).setMinutes(u+c));return t?d:"".concat(an(d.getHours()),":").concat(an(d.getMinutes()))};function on(){var n=Object(u.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  & .ticket-ways-item {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 10px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    & > div {\n      width: 141px;\n    }\n\n    & [class*='header'] {\n      font-weight: 600;\n      font-size: 12px;\n      line-height: 18px;\n      color: #a0b0b9;\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n    }\n\n    & [class*='info'] {\n      font-weight: 600;\n      font-size: 14px;\n      line-height: 21px;\n    }\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(u.a)(["\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n\n  & .ticket-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n    padding-right: 40px;\n  }\n\n  & .ticket-price {\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 24px;\n    color: #2196f3;\n  }\n"]);return cn=function(){return n},n}function sn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]);return sn=function(){return n},n}var ln={0:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",1:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",2:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",3:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},un=g.a.ul(sn()),dn=g.a.li(cn()),pn=g.a.ul(on()),fn=Object(l.b)((function(n){return{tickets:n.tickets,activeFilters:n.activeFilters,activeTab:n.activeTab}}))((function(n){var e=n.tickets,t=n.tickets.length,a=n.activeFilters,i=n.activeTab;if(0===t)return r.a.createElement(en,null);var o=0;return"cheap"===i?e.sort((function(n,e){return n.price>e.price?1:n.price<e.price?-1:0})):"fast"===i&&(e.forEach((function(n){n.segments.sort((function(n,e){return n.duration>e.duration?1:n.duration<e.duration?-1:0}))})),e.sort((function(n,e){return n.segments[0].duration>e.segments[0].duration?1:n.segments[0].duration<e.segments[0].duration?-1:0}))),r.a.createElement("div",null,r.a.createElement(un,null,e.filter((function(n){if(a&&a.includes("\u0412\u0441\u0435"))return!(o>=10)&&(o+=1,n);for(var e=n.segments.map((function(n){return n.stops.length})),t=0;t<e.length;t+=1)if(a.includes(ln[e[t]]))return!(o>=10)&&(o+=1,n);return!1})).map((function(n){var e=n.price,t=n.carrier,i=n.segments;return r.a.createElement(dn,{key:"".concat(t,"-").concat(e)},r.a.createElement("div",{className:"ticket-header"},r.a.createElement("span",{className:"ticket-price"},e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")," \u0420"),r.a.createElement("img",{className:"aviacompany-logo",src:"//pics.avs.io/99/36/{".concat(t,"}.png"),alt:"".concat(t," aviacompany logo")})),r.a.createElement(pn,null,i.filter((function(n){if(a&&a.includes("\u0412\u0441\u0435"))return n;var e=n.stops.length;return a.includes(ln[e])?n:null})).map((function(n){return r.a.createElement("li",{key:"".concat(t,"-").concat(e,"---").concat(n.date),className:"ticket-ways-item"},r.a.createElement("div",{className:"ways-route"},r.a.createElement("div",{className:"ways-route__header"},n.origin," - ",n.destination),r.a.createElement("div",{className:"ways-route__info"},r.a.createElement("time",{dateTime:n.date},function(n){var e=new Date(n);return"".concat(an(e.getHours()),":").concat(an(e.getMinutes()))}(n.date))," \u2013 ",r.a.createElement("time",{dateTime:rn(n.date,n.duration,!0).toISOString()},rn(n.date,n.duration)))),r.a.createElement("div",{className:"ways-duration"},r.a.createElement("div",{className:"ways-duration__header"},"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement("div",{className:"ways-duration__info"},tn(n.duration))),r.a.createElement("div",{className:"ways-stops"},r.a.createElement("div",{className:"ways-stop__header"},ln[n.stops.length]),r.a.createElement("div",{className:"ways-stop__info"},n.stops.join(", "))))}))))}))))}));function mn(){var n=Object(u.a)(["\n  width: 502px;\n"]);return mn=function(){return n},n}function gn(){var n=Object(u.a)(["\n  width: 232px;\n"]);return gn=function(){return n},n}function hn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return hn=function(){return n},n}function bn(){var n=Object(u.a)(["\n  margin: 0 auto;\n  width: 755px;\n"]);return bn=function(){return n},n}var vn={getTickets:function(){return function(){var n=Object(k.a)(y.a.mark((function n(e){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"TICKETS_FETCH_REQUEST"}),_(e)||e({type:"TICKETS_FETCH_FAILURE"});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},xn={cheap:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439",fast:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"},wn=function(n){Object(m.a)(t,n);var e=Object(f.a)(t);function t(){return Object(d.a)(this,t),e.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getTickets)()}},{key:"render",value:function(){return r.a.createElement(En,null,r.a.createElement(w,null),r.a.createElement(yn,null,r.a.createElement(kn,null,r.a.createElement(J,null)),r.a.createElement(On,null,r.a.createElement(Y,{tabs:xn}),r.a.createElement(fn,null))))}}]),t}(r.a.Component),En=g.a.div(bn()),yn=g.a.div(hn()),kn=g.a.aside(gn()),On=g.a.div(mn()),jn=Object(l.b)(null,vn)(wn),Tn=t(29),_n=Object(c.c)({activeFilters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ACTIVE_FILTERS_UPDATE":if("\u0412\u0441\u0435"===e.payload.filterName&&n.length===U.length)return[];if("\u0412\u0441\u0435"===e.payload.filterName&&n.length!==U.length)return U;if("\u0412\u0441\u0435"!==e.payload.filterName&&n.includes("\u0412\u0441\u0435")){var t=n.filter((function(n){return"\u0412\u0441\u0435"!==n}));return t.filter((function(n){return n!==e.payload.filterName}))}if(n.includes(e.payload.filterName))return n.filter((function(n){return n!==e.payload.filterName}));var a=[].concat(Object(Tn.a)(n),[e.payload.filterName]);return"\u0412\u0441\u0435"===e.payload.filterName||a.includes("\u0412\u0441\u0435")||a.length!==U.length-1?a:U;default:return n}},activeTab:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cheap",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_ACTIVE_TAB":return e.payload.activeTab;default:return n}},tickets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TICKETS_FETCH_SUCCESS":return[].concat(Object(Tn.a)(n),Object(Tn.a)(e.payload.tickets));default:return n}}});t(151),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nn=Object(c.e)(_n,Object(c.d)(Object(c.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(l.a,{store:Nn},r.a.createElement(r.a.StrictMode,null,r.a.createElement(jn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},82:function(n,e,t){n.exports=t.p+"static/media/logo.0c089234.svg"},86:function(n,e,t){n.exports=t.p+"static/media/check-mark.68ca57dc.svg"},87:function(n,e,t){n.exports=t(152)}},[[87,1,2]]]);
//# sourceMappingURL=main.238ff1a8.chunk.js.map